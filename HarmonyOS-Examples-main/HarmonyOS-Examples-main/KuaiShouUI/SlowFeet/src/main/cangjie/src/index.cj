package ohos_app_cangjie_SlowFeet

internal import ohos.base.*
internal import ohos.component.*
internal import ohos.state_manage.*
import ohos.state_macro_manage.*
import ohos.router.*
import ohos_app_cangjie_SlowFeet.Pages.*

@Entry
@Component
class MyView {
    func build() {
        Tabs(BarPosition.End) {
            TabContent {
                Tabs(BarPosition.Start) {
                    TabContent {}.tabBar(icon: "/resources/base/media/public_drawer.svg", text: "").enabled(false)
                    TabContent {
                        Column {
                            Row {
                                TextInput(placeholder: "æœç´¢").width(70.percent).margin(2.5.percent).height(80.percent)
                                Button("æœç´¢").width(15.percent).margin(2.5.percent).height(80.percent)
                            }.height(8.percent)
                            List {
                                // TIP: ç”µå•†åº”è¯¥ç»Ÿä¸€è§„å®šå›¾ç‰‡é«˜åº¦ï¼Œæ‰€ä»¥ç”¨ä¸åˆ° WaterFlow
                                ListItem {
                                    this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K",
                                        video: true)
                                }.width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                                ListItem {this.GoodsInfo(@r(app.media.goods1), "æž«ä¸¹ 99 æ–°äºŒæ‰‹æ‘©æ‰˜", "9w+", "9.99K")}.
                                    width(97.percent).margin(1.5.percent)
                            }.lanes(2).width(98.percent).height(92.percent).scrollBar(BarState.Off)
                        }
                    }.tabBar("å•†åŸŽ").backgroundColor(0xF0F0F0)
                    TabContent {
                        Column {
                            Row {
                                Text("â€”â€”â€”â€” ä½ è¿˜æ²¡æœ‰å…³æ³¨è°å“¦ â€”â€”â€”â€”").fontColor(0x7F7F7F)
                            }
                        }
                    }.tabBar("å…³æ³¨").backgroundColor(0xF0F0F0)
                    TabContent {
                        // TODO: ç­‰æœ‰ WaterFlow äº†å†æ”¹
                        List {
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover3), @r(app.media.genshin), "æˆ‘çˆ±çŽ©åŽŸç¥ž34", "100w+")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                        }.lanes(2).width(98.percent).height(100.percent).scrollBar(BarState.Off)
                    }.tabBar("å‘çŽ°").backgroundColor(0xF0F0F0)
                    TabContent {
                        List {
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover3), @r(app.media.genshin), "æˆ‘çˆ±çŽ©åŽŸç¥ž34", "100w+")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {this.VideoInfo(@r(app.media.cover), @r(app.media.user_portrait), "å­™å–„é›…", "-999")}.
                                width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.cover2), @r(app.media.user_portrait), "ç§‹ç§‹é†’äº†_", "11")
                            }.width(97.percent).margin(1.5.percent)
                        }.lanes(2).width(98.percent).height(100.percent).scrollBar(BarState.Off)
                    }.tabBar("åŒåŸŽ").backgroundColor(0xF0F0F0)
                    TabContent {
                        List {
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                            ListItem {
                                this.VideoInfo(@r(app.media.live_cover), @r(app.media.user_portrait), "é»‘ç¥žè¯", "9k+",
                                    living: true)
                            }.width(97.percent).margin(1.5.percent)
                        }.lanes(2).width(98.percent).height(100.percent).scrollBar(BarState.Off)
                    }.tabBar("ç›´æ’­").backgroundColor(0xF0F0F0)
                    TabContent {}.tabBar(icon: "/resources/base/media/public_search.svg", text: "").enabled(false)
                }.scrollable(false).index(3)
            }.tabBar("é¦–é¡µ")
            TabContent {
                // TODO: å˜ä¸ªè‰²
                VideoView( recommended: true )
            }.tabBar("ç²¾é€‰")
            TabContent {
                Row {
                    Column {
                        Text("è¯·å…ˆç™»å½•").decoration(decorationType: TextDecorationType.LineThrough, color: 0x000000).
                            fontSize(30)
                        Button("ç™»å½•").enabled(false)
                    }
                }
            }.tabBar(icon: "/resources/base/media/public_add_norm.svg", text: "")
            TabContent {
                ColumnSplit {
                    Row {
                        Text("æ¶ˆæ¯").fontSize(22).fontWeight(FontWeight.Bold)
                    }.width(100.percent).height(8.percent).justifyContent(FlexAlign.Center)
                    List {
                        ListItem {this.ChatInfo(@r(app.media.genshin), "æˆ‘çˆ±çŽ©åŽŸç¥ž34", "è°¢è°¢å…³æ³¨~æ¥äº†å°±æ˜¯ä¸€å®¶äºº", "8-24"
                            )}
                        ListItem {
                            this.ChatInfo(@r(app.media.fontaine), "æž«ä¸¹äºŒæ‰‹è½¦æ‰¹å‘",
                                "æ„Ÿè°¢å…³æ³¨ï¼ŒäºŒæ‰‹è½¦è¯·è”ç³»å¾®ä¿¡ï¼šmournink", "8-24")
                        }
                        ListItem {this.ChatInfo(@r(app.media.furrina), "å¨œå§ã€Šæ”¶å¾’ã€‹", "æ„Ÿè°¢ä½ è¿™ä¹ˆå¥½çœ‹è¿˜å…³æ³¨æˆ‘ðŸ˜œ", "8-24"
                            )}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "23-9")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "23-8")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "23-8")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "23-6")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "23-4")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "22-7")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "22-2")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "22-1")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "21-3")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "21-3")}
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "21-2")}
                        ListItem {
                            this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§", "20-11")
                        }
                        ListItem {this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§",
                                "20-9")}
                        ListItem {
                            this.ChatInfo(@r(app.media.user_portrait), "TA", "è¯¥ç”¨æˆ·å­˜åœ¨è¿è§„è¡Œä¸ºï¼Œæ¶ˆæ¯ä¸å¯è§", "19-12")
                        }
                    }.width(100.percent).height(92.percent).scrollBar(BarState.Off)
                }.width(100.percent)
            }.tabBar("æ¶ˆæ¯").groupDefaultFocus(true)
            TabContent {
                UserInfo()
            }.tabBar("æˆ‘")
        }.scrollable(false)
    }

    @Builder
    func GoodsInfo(pic: CJResource, name: String, sold: String, price: String, video!: Bool = false) {
        Stack {
            Column {
                Image(pic).width(100.percent).borderRadius(topLeft: 2.fp, topRight: 2.fp, bottomLeft: 0.fp,
                    bottomRight: 0.fp)
                Column {
                    Text(name).maxLines(1).textOverflow(TextOverflow.Ellipsis).width(90.percent).margin(5.fp)
                    Text("å·²å”® ${sold} ä»¶").maxLines(1).textOverflow(TextOverflow.Ellipsis).width(90.percent).fontWeight(
                        FontWeight.Lighter).fontSize(11)
                    Text("æƒŠçˆ†ä»· ï¿¥${price}").fontColor(0xF44444).fontWeight(FontWeight.Bold).fontSize(14).width(
                        90.percent).margin(5.fp)
                } // .height(70.fp)
            }.borderRadius(2.fp).backgroundColor(0xFFFFFF)
            if (video) {
                Row {
                    Image(@r(app.media.replay)).height(20.fp).margin(5.fp)
                    Text("è®²è§£å›žæ”¾").fontColor(0xFFFFFF).fontSize(10).margin(5.fp)
                }.height(30.fp).backgroundColor(Color(0, 0, 0, alpha: 0.5)).position(x: 10.fp, y: 10.fp).borderRadius(
                    10.fp)
            }
        }
    }

    @Builder
    func ChatInfo(head: CJResource, title: String, message: String, time: String, notify!: Bool = false) {
        Row {
            Column {
                Image(head).width(70.percent).height(70.percent).borderRadius(114514)
            }.width(22.percent).height(100.percent).justifyContent(FlexAlign.Center).alignItems(HorizontalAlign.Center).
                align(Alignment.Center)
            Column {
                Text(title).fontWeight(FontWeight.Bold).fontSize(16)
                Text(message).foregroundColor(0x888888).textOverflow(TextOverflow.Ellipsis).width(90.percent).maxLines(
                    1)
            }.width(64.percent).height(100.percent).alignItems(HorizontalAlign.Start).justifyContent(FlexAlign.Center)
            Column {
                Text(time).foregroundColor(0xCCCCCC)
                // TODO: è¿™ä¸ªçº¢ç‚¹è¿˜æœ‰ç‚¹æ¯›ç—…ï¼Œå†çœ‹çœ‹
                if (notify) {
                    Text("").foregroundColor(Color.RED)
                } else {
                    Text("").foregroundColor(Color.RED)
                }
            }.width(14.percent).height(100.percent).alignItems(HorizontalAlign.Start).justifyContent(FlexAlign.Center)
        }.height(13.percent).onClick({
            event => Router.push(url: "ChatView")
        })
    }

    @Builder
    func VideoInfo(pic: CJResource, head: CJResource, name: String, like: String, living!: Bool = false) {
        Stack {
            Column {
                Image(pic).width(100.percent).borderRadius(topLeft: 2.fp, topRight: 2.fp, bottomLeft: 0.fp,
                    bottomRight: 0.fp)
                Row {
                    Row {
                        Image(head).width(25.fp).margin(5.fp).borderRadius(114514)
                        Text(name).fontSize(12).fontColor(0x000000)
                    }.width(50.percent).justifyContent(FlexAlign.Start)
                    Row {
                        if (living) {
                            Image(@r(app.media.eye)).width(15.fp)
                        } else {
                            Image(@r(app.media.heart)).width(15.fp)
                        }
                        Text(like).fontSize(12).margin(5.fp)
                    }.width(50.percent).justifyContent(FlexAlign.End)
                }.height(35.fp)
            }.borderRadius(2.fp).backgroundColor(0xFFFFFF)
            if (living) {
                Row {
                    Image(@r(app.media.dot_radiowaves_left_and_right)).height(20.fp).margin(5.fp)
                    Text("ç›´æ’­ä¸­").fontColor(0xFFFFFF).fontSize(10).margin(5.fp)
                }.height(30.fp).backgroundColor(Color(0, 0, 0, alpha: 0.5)).position(x: 10.fp, y: 10.fp).borderRadius(
                    10.fp)
            }
        }.onClick({_ => if(!living) {Router.push(url: "VideoView")} else {/* TODO: ç›´æ’­é¡µ */}})
    }
}
